Database Structure

v0.1
User:
	name: 						string
	email: 						string
	password_digest: 	string
	admin: 						boolean

GadgetType:
	name:							string

Gadget:
	label:						string
	icon:							string
	description:			text
	position:					integer
	user_id:					integer
	gadget_type_id:		integer
	indexes:
		user_id, gadget_type_id:	unique

MenuCategory:
	name:							string
	description:			string
	image:						string
	position:					integer
	gadget_id:				integer
	indexes:
		name, gadget_id:					unique

MenuItem:
	name:							string
	description:			string
	price:						double
	image:						string
	position:					integer
	menu_category_id:	integer
	indexes:
		name, menu_category_id:		unique

v0.2
User:
	name: 						string
	email: 						string
	password_digest: 	string
	confirmation:			string
	user_level:				integer
	owner_id:					integer

Gadget:
	name:							string
	description:			text

UserGadgets:
	user_id:					integer
	gadget_id:				integer

USER_LEVELS = ['root', 'superuser', 'admin', 'manager', 'user', 'guest' ]

MenuCategory:
	name:							string
	description:			string
	image:						string
	gadget_id:				integer

MenuItem:
	name:							string
	description:			string
	price:						double
	image:						string
	menu_category_id:	integer


class GadgetController < ApplicationController

  before_filter :signed_in_user
  before_filter :correct_user,   only: [:index, :show, :edit, :update]
 
  def index
    @gadgets = current_user.gadgets
  end

  def show
  end

  def edit
  end

  def update
  end

  private

    def correct_user
      @gadget = Gadget.find(params[:id])
      redirect_to(root_path) unless current_user?(@gadget.user)
    end

    def admin_user
      redirect_to(root_path) unless current_user.admin?
    end

end